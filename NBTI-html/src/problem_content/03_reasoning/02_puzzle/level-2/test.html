<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>지각 추론 - 정팔각형 전개도</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.8/dist/web/static/pretendard.css">
  <style>
    body {
      font-family: 'Pretendard', sans-serif;
      background: #f8f9fa;
      padding: 2rem;
      color: #222;
    }
    .question {
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }
    .figure {
      margin-bottom: 2rem;
    }
    .choices-grid {
      display: grid;
      grid-template-columns: repeat(2, 120px);
      gap: 20px;
    }
    .choice {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
    .answer {
      margin-top: 2rem;
      font-weight: bold;
      color: #555;
    }
  </style>
</head>
<body>

<div class="question">
  <strong>지각 추론 - 정팔각형 전개도</strong><br>
  다음 전개도를 접었을 때 나타날 수 없는 도형은?
</div>

<div class="figure">
  <svg viewBox="0 0 240 240" width="240" height="240">
    <!-- 정사각형들 (중심 십자 + 4번째 칸 이동 포함) -->
    <rect x="80" y="40" width="40" height="40" fill="#eaeaea" stroke="#444"/>
    <rect x="40" y="80" width="40" height="40" fill="#eaeaea" stroke="#444"/>
    <rect x="80" y="80" width="40" height="40" fill="#eaeaea" stroke="#444"/>
    <rect x="120" y="120" width="40" height="40" fill="#eaeaea" stroke="#444"/> <!-- 이동된 것 -->
    <rect x="80" y="120" width="40" height="40" fill="#eaeaea" stroke="#444"/>

    <!-- 삼각형 꼭짓점 (위쪽 그대로 / 아래 반전됨) -->
    <polygon points="40,80 80,80 80,40" fill="#eaeaea" stroke="#444"/> <!-- 좌상단 -->
    <polygon points="160,40 160,80 200,80" fill="#eaeaea" stroke="#444"/> <!-- 우상단 -->
    <polygon points="40,160 80,160 80,120" fill="#eaeaea" stroke="#444"/> <!-- 좌하단: 반전 -->
    <polygon points="160,160 200,160 160,120" fill="#eaeaea" stroke="#444"/> <!-- 우하단: 반전 -->
  </svg>
</div>

<div class="choices-grid" id="choices-grid"></div>
<div class="answer">정답: <span id="answer"></span></div>

<script>
  const puzzleData = {
    instruction: "다음 전개도를 접었을 때 나타날 수 없는 도형은?",
    answer: 4,
    shapes: [
      { type: 'octagon' },
      { type: 'square' },
      { type: 'trapezoid' },
      { type: 'star' } // 정답
    ]
  };

  document.getElementById('answer').textContent = puzzleData.answer;

  const choicesGrid = document.getElementById('choices-grid');

  puzzleData.shapes.forEach((shape, index) => {
    const wrapper = document.createElement('div');
    wrapper.className = 'choice';

    const label = document.createElement('div');
    label.textContent = `${index + 1}.`;

    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.setAttribute("width", "80");
    svg.setAttribute("height", "80");

    let shapeEl;
    switch (shape.type) {
      case 'octagon':
        shapeEl = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        shapeEl.setAttribute("points", "30,0 50,0 80,30 80,50 50,80 30,80 0,50 0,30");
        break;
      case 'square':
        shapeEl = document.createElementNS("http://www.w3.org/2000/svg", "rect");
        shapeEl.setAttribute("x", "10");
        shapeEl.setAttribute("y", "10");
        shapeEl.setAttribute("width", "60");
        shapeEl.setAttribute("height", "60");
        break;
      case 'trapezoid':
        shapeEl = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        shapeEl.setAttribute("points", "20,20 60,20 70,60 10,60");
        break;
      case 'star':
        shapeEl = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
        shapeEl.setAttribute("points", "40,5 48,30 75,30 52,47 60,75 40,58 20,75 28,47 5,30 32,30");
        break;
    }

    shapeEl.setAttribute("fill", "#eaeaea");
    shapeEl.setAttribute("stroke", "#444");
    svg.appendChild(shapeEl);

    wrapper.appendChild(label);
    wrapper.appendChild(svg);
    choicesGrid.appendChild(wrapper);
  });
</script>

</body>
</html>
